<html>
<head>
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
  <style>
    a-scene { width: 100%; height: 80vh; }
  </style>
</head>
<body>
  <a-scene cursor="rayOrigin: mouse" background="color: #87ceeb">
    <a-assets>
      <a-asset-item id="pathModel" src="assets/PATH.glb"></a-asset-item>
      <img id="groundTexture" src="assets/Ground024_8K-JPG_Color.jpg">
      <img id="normalMap" src="assets/Ground024_8K-JPG_NormalDX.jpg">
      <img id="roughnessMap" src="assets/Ground024_8K-JPG_Roughness.jpg">
      <img id="displacementMap" src="assets/Ground024_8K-JPG_Displacement.jpg">
    </a-assets> 

    <!-- Ground plane with textures -->
    <a-plane src="#groundTexture"
             normal-map="#normalMap"
             roughness-map="#roughnessMap"
             displacement-map="#displacementMap"
             rotation="-90 0 0" width="40" height="40"
             repeat="30 30"
             material="roughness: 1;"
             position="0 0 0">
    </a-plane>
    
    <!-- Camera -->
    <a-entity position="0 1.6 5">
      <a-camera wasd-controls="acceleration:100" look-controls="pointerLockEnabled: true"></a-camera>
    </a-entity>

    <!-- Lights -->
    <a-entity light="type: directional; intensity: 1" position="5 10 5"></a-entity>
    <a-entity light="type: ambient; intensity: 0.5"></a-entity>

    <!-- Your GLB model -->
    <a-entity gltf-model="#pathModel" 
              scale="10 10 10" 
              position="0 1 0">
    </a-entity>

    <!-- Container for grass elements -->
    <a-entity id="grass-container"></a-entity>
  </a-scene>

  <script>
    // Wait for the scene to load
    document.querySelector('a-scene').addEventListener('loaded', function() {
      // Add grass patches to hide floating objects
      const grassContainer = document.querySelector('#grass-container');
      const groundRadius = 20; // Match your ground size
      const grassCount = 200; // Increased for better coverage
      
      for (let i = 0; i < grassCount; i++) {
        const angle = Math.random() * Math.PI * 2;
        const distance = Math.random() * groundRadius;
        
        const x = Math.cos(angle) * distance;
        const z = Math.sin(angle) * distance;
        
        // Create the grass patch
        const grass = document.createElement('a-entity');
        grass.setAttribute('position', `${x} 0.01 ${z}`);
        
        // Create multiple grass blades for a more natural look
        for (let j = 0; j < 3; j++) {
          const blade = document.createElement('a-box');
          blade.setAttribute('width', 0.05 + Math.random() * 0.05);
          blade.setAttribute('height', 0.2 + Math.random() * 0.3);
          blade.setAttribute('depth', 0.05);
          blade.setAttribute('color', '#3C5');
          blade.setAttribute('rotation', 
            `${-90 + Math.random() * 10} ${Math.random() * 360} 0`);
          blade.setAttribute('position', 
            `${(Math.random() - 0.5) * 0.2} 0 ${(Math.random() - 0.5) * 0.2}`);
          
          grass.appendChild(blade);
        }
        
        grassContainer.appendChild(grass);
      }
    });
  </script>
</body>
</html>
